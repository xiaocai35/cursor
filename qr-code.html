<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>推广二维码 - 聚贤人力</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8A33D1',
                        secondary: '#F6F7FB',
                        textGray: '#666666',
                        lightGray: '#EEEEEE',
                        rewardRed: '#FF5B5B',
                        rewardOrange: '#FFA046',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: #f5f5f5;
            color: #333;
        }

        .scrollable-content {
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scrollable-content::-webkit-scrollbar {
            display: none;
        }

        .qr-container {
            background: linear-gradient(135deg, #8A33D1 0%, #9B4EE3 100%);
            border-radius: 1rem;
            padding: 2rem;
            margin: 1rem;
            position: relative;
            overflow: hidden;
        }

        .qr-bg-pattern {
            position: absolute;
            top: -50px;
            right: -50px;
            width: 150px;
            height: 150px;
            opacity: 0.1;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='white' d='M0 0h20v20H0zM40 0h20v20H40zM80 0h20v20H80zM20 20h20v20H20zM60 20h20v20H60zM0 40h20v20H0zM40 40h20v20H40zM80 40h20v20H80zM20 60h20v20H20zM60 60h20v20H60zM0 80h20v20H0zM40 80h20v20H40zM80 80h20v20H80z'/%3E%3C/svg%3E") repeat;
        }

        .stats-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 0.5rem;
            box-shadow: 0 2px 10px rgba(138, 51, 209, 0.1);
            transition: transform 0.2s ease;
        }

        .stats-card:active {
            transform: scale(0.98);
        }

        .share-btn {
            background: linear-gradient(135deg, #FF5B5B 0%, #FFA046 100%);
            border: none;
            border-radius: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: white;
            font-weight: 500;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(255, 91, 91, 0.3);
        }

        .share-btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 8px rgba(255, 91, 91, 0.3);
        }

        .copy-btn {
            background: white;
            border: 2px solid #8A33D1;
            color: #8A33D1;
            border-radius: 0.75rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .copy-btn:active {
            background: #8A33D1;
            color: white;
        }

        .invite-code-display {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 0.75rem;
            padding: 1rem;
            color: white;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            letter-spacing: 2px;
            margin: 1rem 0;
        }

        .qr-code-canvas {
            background: white;
            border-radius: 0.75rem;
            padding: 1rem;
            display: inline-block;
        }
    </style>
</head>
<body class="h-screen flex flex-col max-w-[414px] mx-auto overflow-hidden">
    <!-- 状态栏 -->
    <div class="px-4 py-1 flex justify-between items-center text-xs text-white bg-primary">
        <span id="currentTime">21:14</span>
        <div class="flex items-center space-x-1">
            <span class="text-xs">4G</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"/>
            </svg>
        </div>
    </div>

    <!-- 页面头部 -->
    <div class="bg-white shadow-sm px-4 py-3 flex items-center justify-between">
        <div class="flex items-center">
            <button onclick="goBack()" class="mr-3 p-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <h1 class="text-lg font-semibold text-gray-800">推广二维码</h1>
        </div>
        <button onclick="showShareModal()" class="text-primary text-sm font-medium">
            分享
        </button>
    </div>

    <!-- 主要内容 -->
    <div class="flex-1 scrollable-content bg-gray-50">
        <!-- 二维码展示区域 -->
        <div class="qr-container text-center text-white">
            <div class="qr-bg-pattern"></div>
            <div class="relative z-10">
                <h2 class="text-xl font-bold mb-2">我的推广二维码</h2>
                <p class="text-white text-opacity-90 mb-4">扫码注册，轻松赚取推荐奖励</p>
                
                <!-- 二维码 -->
                <div class="flex justify-center mb-4">
                    <div class="qr-code-canvas">
                        <div id="qrCodeContainer" class="w-40 h-40 bg-gray-100 flex items-center justify-center rounded-lg">
                            <!-- 二维码将在这里生成 -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="flex justify-center">
                    <button onclick="shareQrCode()" class="share-btn">
                        分享二维码
                    </button>
                </div>
            </div>
        </div>

        <!-- 推广说明 -->
        <div class="mx-4 bg-white rounded-lg p-4 mb-4 shadow-sm">
            <h3 class="font-semibold text-gray-800 mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                推广说明
            </h3>
            <div class="space-y-2 text-sm text-gray-600">
                <div class="flex items-start">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"></div>
                    <p>分享二维码给好友</p>
                </div>
                <div class="flex items-start">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"></div>
                    <p>好友扫码注册平台账号</p>
                </div>
                <div class="flex items-start">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"></div>
                    <p>好友成功入职后您可获得推荐奖励</p>
                </div>
                <div class="flex items-start">
                    <div class="w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"></div>
                    <p>奖励金额根据岗位类型不同，最高可达500元</p>
                </div>
            </div>
        </div>

        <!-- 推广统计 -->
        <div class="mx-4 mb-4">
            <h3 class="font-semibold text-gray-800 mb-3">推广统计</h3>
            <div class="grid grid-cols-2 gap-3">
                <div class="stats-card text-center">
                    <div class="text-2xl font-bold text-primary" id="totalInvites">12</div>
                    <div class="text-sm text-gray-600 mt-1">累计推荐</div>
                </div>
                <div class="stats-card text-center">
                    <div class="text-2xl font-bold text-green-600" id="successfulInvites">8</div>
                    <div class="text-sm text-gray-600 mt-1">成功入职</div>
                </div>
                <div class="stats-card text-center">
                    <div class="text-2xl font-bold text-orange-500" id="totalEarnings">¥1,200</div>
                    <div class="text-sm text-gray-600 mt-1">累计收益</div>
                </div>
                <div class="stats-card text-center">
                    <div class="text-2xl font-bold text-blue-600" id="monthlyInvites">3</div>
                    <div class="text-sm text-gray-600 mt-1">本月推荐</div>
                </div>
            </div>
        </div>

        <!-- 最近推荐记录 -->
        <div class="mx-4 bg-white rounded-lg p-4 mb-6 shadow-sm">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-semibold text-gray-800">最近推荐</h3>
                <span class="text-sm text-primary cursor-pointer" onclick="viewAllRecords()">查看全部</span>
            </div>
            <div id="recentRecords" class="space-y-3">
                <!-- 推荐记录将在这里动态生成 -->
            </div>
        </div>
    </div>

    <!-- 分享模态框 -->
    <div id="shareModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
        <div class="bg-white rounded-lg p-6 mx-4 w-full max-w-sm">
            <div class="text-center mb-4">
                <h3 class="text-lg font-semibold text-gray-900">分享推广二维码</h3>
                <p class="text-sm text-gray-600 mt-1">选择分享方式</p>
            </div>
            
            <div class="grid grid-cols-3 gap-4 mb-6">
                <button onclick="shareToWechat()" class="flex flex-col items-center p-3 rounded-lg hover:bg-gray-50">
                    <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <span class="text-xs text-gray-700">微信</span>
                </button>
                
                <button onclick="shareToMoments()" class="flex flex-col items-center p-3 rounded-lg hover:bg-gray-50">
                    <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <span class="text-xs text-gray-700">朋友圈</span>
                </button>
                
                <button onclick="copyShareLink()" class="flex flex-col items-center p-3 rounded-lg hover:bg-gray-50">
                    <div class="w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                        </svg>
                    </div>
                    <span class="text-xs text-gray-700">复制链接</span>
                </button>
            </div>
            
            <button onclick="closeShareModal()" class="w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium">
                取消
            </button>
        </div>
    </div>

    <script src="js/qr-code.js"></script>
</body>
</html> 